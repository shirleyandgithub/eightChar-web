import{d as x,y as k,r as m,a as y,o as V,j as h,k as n,b as o,p as l,x as c,z as w,A as C,C as B,D as S,E as U,G as q,v as F,H as N,_ as $}from"./index-DizytlvP.js";const E={class:"box"},G={class:"content"},R={style:{margin:"16px"}},T={style:{margin:"16px"}},j=x({__name:"index",setup(z){const d=w(),_=C(),r=k();console.log(r);const s=m(""),u=m(""),v=y(()=>/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(s.value)!=!0);function f(){B({loginname:s.value,password:u.value}).then(t=>{console.log(t),t.data.token?(r.changeUserState({loginState:!0,token:t.data.token,userid:t.data.userid}),_.query.type=="back"?d.back():d.push("/")):S(t.data.message)})}return(t,e)=>{const i=U,g=q,p=F,b=N;return V(),h("main",E,[e[5]||(e[5]=n("header",{class:"header"},"头部-登录",-1)),n("div",G,[o(b,{onSubmit:f},{default:l(()=>[o(g,{inset:""},{default:l(()=>[o(i,{style:{height:"60px"},modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(i,{style:{height:"60px"},modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),n("div",R,[o(p,{disabled:v.value,round:"",block:"",color:"#f66","native-type":"submit"},{default:l(()=>e[3]||(e[3]=[c(" 登录 ")])),_:1},8,["disabled"])]),n("div",T,[o(p,{onClick:e[2]||(e[2]=a=>t.$router.push("/register")),round:"",block:"",type:"success","native-type":"submit"},{default:l(()=>e[4]||(e[4]=[c(" 注册 ")])),_:1})])]),_:1})])])}}}),D=$(j,[["__scopeId","data-v-8d975575"]]);export{D as default};
