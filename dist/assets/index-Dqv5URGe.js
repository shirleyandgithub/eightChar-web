import{c as z,d as y,a as x,w as T,b as l,m as L,e as h,f as U,t as C,B,g as F,h as O,r as I,i as $,o as k,j as M,k as v,F as j,l as q,n as A,p as G,q as D,I as H,L as J,_ as K}from"./index-DizytlvP.js";const[Q,_,E]=z("pagination"),w=(a,i,n)=>({number:a,text:i,active:n}),W={mode:L("multi"),prevText:String,nextText:String,pageCount:h(0),modelValue:U(0),totalItems:h(0),showPageSize:h(5),itemsPerPage:h(10),forceEllipses:Boolean,showPrevButton:C,showNextButton:C};var X=y({name:Q,props:W,emits:["change","update:modelValue"],setup(a,{emit:i,slots:n}){const g=x(()=>{const{pageCount:e,totalItems:t,itemsPerPage:s}=a,c=+e||Math.ceil(+t/+s);return Math.max(1,c)}),f=x(()=>{const e=[],t=g.value,s=+a.showPageSize,{modelValue:c,forceEllipses:d}=a;let p=1,m=t;const S=s<t;S&&(p=Math.max(c-Math.floor(s/2),1),m=p+s-1,m>t&&(m=t,p=m-s+1));for(let r=p;r<=m;r++){const R=w(r,r,r===c);e.push(R)}if(S&&s>0&&d){if(p>1){const r=w(p-1,"...");e.unshift(r)}if(m<t){const r=w(m+1,"...");e.push(r)}}return e}),o=(e,t)=>{e=F(e,1,g.value),a.modelValue!==e&&(i("update:modelValue",e),t&&i("change",e))};T(()=>o(a.modelValue));const u=()=>l("li",{class:_("page-desc")},[n.pageDesc?n.pageDesc():`${a.modelValue}/${g.value}`]),P=()=>{const{mode:e,modelValue:t,showPrevButton:s}=a;if(!s)return;const c=n["prev-text"],d=t===1;return l("li",{class:[_("item",{disabled:d,border:e==="simple",prev:!0}),B]},[l("button",{type:"button",disabled:d,onClick:()=>o(t-1,!0)},[c?c():a.prevText||E("prev")])])},b=()=>{const{mode:e,modelValue:t,showNextButton:s}=a;if(!s)return;const c=n["next-text"],d=t===g.value;return l("li",{class:[_("item",{disabled:d,border:e==="simple",next:!0}),B]},[l("button",{type:"button",disabled:d,onClick:()=>o(t+1,!0)},[c?c():a.nextText||E("next")])])},V=()=>f.value.map(e=>l("li",{class:[_("item",{active:e.active,page:!0}),B]},[l("button",{type:"button","aria-current":e.active||void 0,onClick:()=>o(e.number,!0)},[n.page?n.page(e):e.text])]));return()=>l("nav",{role:"navigation",class:_()},[l("ul",{class:_("items")},[P(),a.mode==="simple"?u():V(),b()])])}});const Y=O(X),Z={class:"box"},ee={class:"content"},te={class:"itemImage"},N=7,ae=y({__name:"index",setup(a){const i=I([]);$.get("/api/RoomApi/live").then(o=>{console.log(o.data),i.value=o.data.data});const n=I(1),g=x(()=>Math.ceil(i.value.length/N)),f=x(()=>{const o=(n.value-1)*N,u=o+N;return i.value.slice(o,u)});return(o,u)=>{const P=H,b=J,V=Y;return k(),M("main",Z,[u[1]||(u[1]=v("header",{class:"header"},"头部-直播",-1)),v("div",ee,[(k(!0),M(j,null,q(f.value,(e,t)=>(k(),A(b,{class:"item",key:t},{default:G(()=>[v("div",te,[l(P,{src:e.room_src},null,8,["src"]),v("div",null,[v("div",null,"房间号："+D(e.room_id),1),v("div",null,"房间名："+D(e.room_name),1)])])]),_:2},1024))),128))]),l(V,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=e=>n.value=e),"page-count":g.value,mode:"simple"},null,8,["modelValue","page-count"])])}}}),oe=K(ae,[["__scopeId","data-v-c1c04436"]]);export{oe as default};
